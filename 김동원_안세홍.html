<!DOCTYPE html>
<html>
    <head>
        <title>CarProject</title>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
        <script src="https://www.youtube.com/iframe_api"></script>
        <script>
            var player;
            function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                    height: '360',
                    width: '640',
                    // todo : 아래 유튜브Id만 바꿔주면 됩니다.
                    videoId: '72nMc4jEmbE',
                });
            }
        </script>
        <scirpt src='web3.min.js'></scirpt>
        <script type="text/javascript">
            window.addEventListener('load', async () => {
                if (window.ethereum) {
                    console.log('Modern dapp browsers');
                    window.web3 = new Web3(window.ethereum);
                    loadAddEvent();
                } else if (window.web3) {
                    console.log('Legacy dapp browsers');
                } else {
                    console.log('Non-Ethereum browser detected. You should consider trying MetaMask!');
                }
            });

            // const loginBtn = document.querySelector('#loginBtn');
            // const loginFunc = async () => {
            //     window.accounts = await ethereum.request({ method: 'eth_requestAccounts' });
            //     const address = document.querySelector("#address")
            //     address.textContent = `계정주소 : ${accounts[0]}`
            //     const remainMoney = document.querySelector("#remainMoney")
            //     remainMoney.textContent = "잔고 : 100"
            // }

            // const loadAddEvent = async () => {
            //     loginBtn.addEventListener('click', loginFunc);
            // }
        </script>
    </head>
    <body>
        <div class="d-flex justify-content-between p-5">
            <div>
                <a href="http://localhost:8080/carReservation.html"><img src="http://localhost:8080/image/carLogo.png" style="height: 80px;"></a>
            </div>
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <!--            <h6 class="card-subtitle mb-2 text-muted">잔고 : 연결안됨</h6>-->
                    <div class="card-text">
                        <div id="address">계정주소 : 연결안됨</div>
                        <div id="remainMoney">잔고 : 연결안됨</div>
                    </div>
                </div>
            </div>
            <button id="loginBtn" type="button" class="btn btn-primary btn-lg">메타마스크 연결</button>
        </div>
        <div style="text-align: center"><div id="player"></div></div>
        <div class="p-5">
            <div class="d-flex justify-content-end p-3">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="자동차를 주소를 등록해주세요!" aria-label="Recipient's username" aria-describedby="carRegistrationBtn" id="carAddress">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" type="button" id="carRegistrationBtn">등록하기</button>
                    </div>
                </div>
            </div>
            <div class="list-group">
                <div class="list-group-item list-group-item-action">
                    <div class="row no-gutters">
                        <div class="col-md-4">
                            <img style="max-width: 100%; height: auto" src="http://localhost:8080/image/car.png">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-title">더 뉴 팰리세이드</h5>
                                <p class="card-text">차량 번호 : 12가 3456<br>가격 : 1(시간당)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="list-group-item list-group-item-action">
                    <div class="row no-gutters">
                        <div class="col-md-4">
                            <img style="max-width: 100%; height: auto" src="http://localhost:8080/image/car.png">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-title">더 뉴 팰리세이드</h5>
                                <p class="card-text">차량 번호 : 12가 3456<br>가격 : 1(시간당)</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="list-group-item list-group-item-action">
                    <div class="row no-gutters">
                        <div class="col-md-4">
                            <img style="max-width: 100%; height: auto" src="http://localhost:8080/image/car.png">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-title">더 뉴 팰리세이드</h5>
                                <p class="card-text">차량 번호 : 12가 3456<br>가격 : 1(시간당)</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="list-group-item list-group-item-action">
                    <div class="row no-gutters">
                        <div class="col-md-4">
                            <img style="max-width: 100%; height: auto" src="http://localhost:8080/image/car.png">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-title">더 뉴 팰리세이드</h5>
                                <p class="card-text">차량 번호 : 12가 3456<br>가격 : 1(시간당)</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="list-group-item list-group-item-action">
                    <div class="row no-gutters">
                        <div class="col-md-4">
                            <img style="max-width: 100%; height: auto" src="http://localhost:8080/image/car.png">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-title">더 뉴 팰리세이드</h5>
                                <p class="card-text">차량 번호 : 12가 3456<br>가격 : 1(시간당)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </body>
    <script>
        const carRegistrationBtn = document.querySelector("#carRegistrationBtn")
        carRegistrationBtn.addEventListener('click',() => {
            const carAddress = document.querySelector("#carAddress")
            console.log(carAddress.value)
            // 리셋하려면 이거 쓰세요. carAddress.value = ""
        })
    </script>
</html>